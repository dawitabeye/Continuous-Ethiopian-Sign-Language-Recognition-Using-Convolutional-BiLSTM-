ZABBIX INSTALLATION & CONFIGURATION OVERVIEW
============================================

COMPONENTS
----------
1. Zabbix Server: Collects data from proxies and agents.
2. Zabbix Frontend: Web UI to configure and view data.
3. Zabbix Database: Stores all collected data.
4. Zabbix Agent: Installed on monitored hosts (Windows/Linux).
5. Zabbix Proxy: Collects data from local agents and sends it to Zabbix server (used in distributed setup).

PREREQUISITES
-------------
- Ubuntu Server 20.04 or later
- Root privileges or sudo access
- Static IP

ZABBIX SERVER INSTALLATION (Ubuntu 20.04+)
------------------------------------------
# 1. Install Zabbix repository
wget https://repo.zabbix.com/zabbix/6.4/ubuntu/pool/main/z/zabbix-release/zabbix-release_6.4-1+ubuntu20.04_all.deb
sudo dpkg -i zabbix-release_6.4-1+ubuntu20.04_all.deb
sudo apt update

# 2. Install server, frontend, agent, database
sudo apt install zabbix-server-mysql zabbix-frontend-php zabbix-apache-conf zabbix-sql-scripts zabbix-agent mariadb-server

# 3. Create database
sudo mysql -uroot -p
CREATE DATABASE zabbix CHARACTER SET utf8mb4 COLLATE utf8mb4_bin;
CREATE USER zabbix@localhost IDENTIFIED BY 'password';
GRANT ALL PRIVILEGES ON zabbix.* TO zabbix@localhost;
FLUSH PRIVILEGES;
EXIT;

# 4. Import initial schema
zcat /usr/share/zabbix-sql-scripts/mysql/server.sql.gz | mysql -uzabbix -p zabbix

# 5. Configure Zabbix server
Edit /etc/zabbix/zabbix_server.conf:
DBPassword=password

# 6. Start and enable services
sudo systemctl restart zabbix-server zabbix-agent apache2
sudo systemctl enable zabbix-server zabbix-agent apache2

ZABBIX FRONTEND SETUP
----------------------
- Open browser: http://<ZABBIX_SERVER_IP>/zabbix
- Follow the setup wizard
  - DB User: zabbix
  - DB Password: password
  - Default login: Admin / zabbix

ZABBIX AGENT INSTALLATION (Windows)
-----------------------------------
1. Download agent from: https://www.zabbix.com/download_agents
2. Unzip to C:\Zabbix
3. Edit `zabbix_agentd.conf`:
   - Server=<ZABBIX_SERVER_IP>
   - ServerActive=<ZABBIX_SERVER_IP>
   - Hostname=WindowsHostName
4. Run CMD as Administrator:
   cd C:\Zabbix\bin\win64
   zabbix_agentd.exe --install
   zabbix_agentd.exe --start

Allow firewall port 10050:
   netsh advfirewall firewall add rule name="Zabbix Agent" dir=in action=allow protocol=TCP localport=10050

ZABBIX PROXY INSTALLATION (Ubuntu)
----------------------------------
# Install proxy
sudo apt install zabbix-proxy-mysql

# Create proxy database
sudo mysql -uroot -p
CREATE DATABASE zabbix_proxy CHARACTER SET utf8mb4 COLLATE utf8mb4_bin;
CREATE USER zabbix_proxy@localhost IDENTIFIED BY 'proxy_password';
GRANT ALL PRIVILEGES ON zabbix_proxy.* TO zabbix_proxy@localhost;
FLUSH PRIVILEGES;
EXIT;

# Import schema
zcat /usr/share/zabbix-sql-scripts/mysql/proxy.sql.gz | mysql -uzabbix_proxy -p zabbix_proxy

# Configure proxy
Edit /etc/zabbix/zabbix_proxy.conf:
Server=<ZABBIX_SERVER_IP>
Hostname=Proxy1
DBName=zabbix_proxy
DBUser=zabbix_proxy
DBPassword=proxy_password

# Start proxy
sudo systemctl restart zabbix-proxy
sudo systemctl enable zabbix-proxy

FIREWALL PORTS TO ALLOW
------------------------
Zabbix Server      : TCP 10051
Zabbix Agent       : TCP 10050
Zabbix Proxy       : TCP 10051 (to server)

Useful:
--------
Zabbix Frontend    : http://<ZABBIX_SERVER_IP>/zabbix
Default Login      : Admin / zabbix

